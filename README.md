# Шпаргалка Git   

**Git** -  это система контроля версий, которая помогает отслеживать изменения в программах, текстовых файлах, больших документах, веб-сайтах и так далее.  

## Основные команды:  

### Навигация:  

**pwd** (*print working directory*) - команда выводит путь к папке, в которой вы сейчас находитесь.  

**cd** (*change directory*) - команда меняет текущую рабочую директорию на ту, что указана в параметре.  

```
cd first-project
```
*Примечание* - если в названии есть пробелы, используй кавычки.  

* Чтобы перейти в домашнюю директорию, используй "**~**".  
* Чтобы перейти в родительскую директорию, используй "**..**".  
* Чтобы обратится текущей директории используй "**.**".  

Также **cd** позволяет перемещаться сразу через несколько директорий. Для этого нужно разделить их названия знаком "**/**".  

```
$ cd github/open-source-project
```

**ls** (*list directory contents*) - команда выводит содержимое директории.  

*Примечание* - чтобы вывести расширенный список, используй "**-а**".  

**ls** может работать с символом домашней директории "**~**" и предыдущей директории "**..**".  

## Работа с файлами и папками  

### Создание  

**touch** - команда создает файл (необходимо указывать расширение файла).  

```
$ touch my-new-file.txt
```
*Примечание* - также можно использовать команды вместе с символом домашней директории "**~**" или родительской директории "**..**".  

```
touch ../../file.txt
```
Если нужно создать сразу несколько файлов, можно напечатать их имена в одну строку через пробел.  

```
touch index.html style.css script.js
```
**mkdir** (*make directory*) - команда создает директорию.  

*Примечание* - можно создать целую структуру директорий одной командой с помощью флага **-p**.  

```
$ mkdir -p dir1/dir-inside/dir-deeper-inside
```

Также можно использовать вместе с символом домашней директории "**~**" или родительской директории "**..**".  

```
mkdir ~/my-git-projects
```

### Копирование и перемещение  

**cp** (*copy*) - команда выполняет копирование файлов.  

```
$ cp что_копируем куда_копируем  
cp index.html src/  
# скопировали index.html в папку src   
$ cp index.html style.css script.js src/  
# скопировали три файла (index.html, style.css и script.js) в папку src   
```

**mv** (*move*) - команда перемещает файлы и папки.  

```
$ mv table.csv ./very-important-files  
# сначала указываем имя файла, который хотим переместить, потом путь — куда перемещаем  
```

### Чтение  

**cat** (*concatenate and print*) - команда выполняет чтение файлов.  
```
$ cat myfile.txt # распечатали содержимое файла myfile.txt
file-content-1
file-content-2 
```

### Удаление

**rm** (*remove*) - команда удаляет файл. 

```
$ rm example.txt # удалили файл example.txt из текущей папки 
```
**rmdir** (*remove directory*) - команда удаляет папку. 

```
$ rmdir images # команда удалит папку images из текущей директории, 
               # если папка images пуста 
```
*Примечание* - если папку нужно удалить с содержимым, используй **-r**.

```
$ rm -r images # удалили папку images со всем её содержимым из текущей директории 
```

## Эффективная работа с командной строкой

* Выполнение сразу нескольких команд: *&&*
* Вызывайте команды из буфера - *↑ ↓*
* Используйте автозаполнение - начните фразу командной строке и дважды нажать клавишу *Tab*.

*Примечание* - есть ещё один способ использовать *Tab* при навигации в другую директорию. Если ввести **cd** с названием папки, а затем нажать *Tab*, в консоль в качестве подсказки выведутся все возможные пути.

# Установка и настройка Git (на windows):

1. Перейдите по [ссылке](https://git-scm.com/downloads/win).
2. Скачать **Standalone Installer**.
3. Запустить программу установки.
4. Проверить галочку напротив **Git Bash Here** (позволит открывать консоль с Git в любой папке).
5. Далее оставить настройки по умолчанию, нажимая *Next*, и завершить установку, нажав *Finish*.

## Настройка Git  

1. Запустите *Git Bash*.
2. Укажите свое имя и почту, используя команду:

```
$ git config --global user.name "User Namovich" 
# имя или ник нужно написать латиницей и в кавычках

$ git config --global user.email username@yandex.ru
# здесь нужно указать свой настоящий email 
```

3. Проверка введенных данных, используй команду на выбор:

```
$ cat ~/.gitconfig 
$ git config --list 
```

## Работа с Git  

1. Чтобы Git начал отслеживать изменения в проекте, папку с файлами этого проекта нужно сделать Git-репозиторием для этого:  

* Перейти в нужную папку командой **cd**
* Инициализировать репозиторий командой **git init**

*Примечание* - «разгитить» папку, если что-то пошло не так, командой — **rm -rf .git**

2. Проверить состояние репозитория, можно командой: **git status**

3. После создания/добавления/изменения файла в папку(репозиторий) его нужно добавить командой: **git add** *<имя файла>*.

*Примечание* - флаг **--all** позволяет подготовить к сохранению все файлы в репозитории.

"**.**" позволяет добавить всю текущую папку.

4. Создание коммита - **git commit**

*Примечание* - ключ **-m** позволяет добавить комментарий к коммиту.

5. Просмотр истории коммитов - **git log**.

# Работа с GitHub

Для совместной работы над проектами, используют GitHub.  

Регистрация на GitHub:  

1. На [сайте](https://github.com/), нажать *Sign up*.
2. Введите : адрес электронной почты, придумайте пароль, имя пользователя и нажмите *Create account*.  

## Создание репозитория на GitHub  

1. Зайдите в свой профиль по ссылке: https://github.com/username
2. Создайте репозиторий. Для этого перейдите на вкладку **Repositories**, а затем нажмите на зелёную кнопку *New* справа. 
3. Введите название проекта и нажмите *Create repository*.  

## Связать удаленный репозиторий GitHub и локальный Git 

1. Создание SSH ключей:

- Проверить наличие ключей командой: **$ ls -la .ssh/**
- Генерация ключей: **$ ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"**
- Укажите место хранения ключей и кодовую фразу(если требуется).
- Проверить наличие ключей: **ls -a ~/.ssh**

2. Связывание SSH-ключа и GitHub-аккаунта:

- После выполнения **ssh-keygen** в директории ~/.ssh есть два файла — id_ed25519 и id_ed25519.pub
- Скопируйте публичный ключ в буфер обмена:
**pbcopy** — она копирует поток данных в буфер обмена. 
Запись **pbcopy < ~/.ssh/id_rsa.pub** означает: «Скопируй в буфер обмена всё содержимое файла **~/.ssh/id_rsa.pub**».
- Перейдите на GitHub и выберите пункт *Settings* в меню аккаунта.
- В меню слева нажмите на пункт *SSH and GPG keys*.
- В открывшейся вкладке выберите *New SSH key*.
- В поле *Title* напишите название ключа.
- В поле *Key type* должно быть *Authentication Key*.
- В поле *Key* скопируйте ваш ключ из буфера обмена.
- Нажмите на кнопку *Add SSH key* .
- Проверьте правильность ключа с помощью следующей команды:**$ ssh -T git@github.com**
- Для подтверждения подлинности сервер генерирует и публикует ключи SHA256. 
Вы можете проверить ключи GitHub по [ссылке](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/githubs-ssh-key-fingerprints). 
Если ключ в предупреждении совпадает с тем, что вы видите на сайте, значит, сервер является действительным. Введите *yes*, чтобы продолжить. Вы увидите приветствие на экране.

3. Перейдите на страницу удалённого репозитория, выберите тип SSH и скопируйте URL.

4. Откройте консоль, перейдите в каталог локального репозитория и введите команду **git remote add**. 
```
$ git remote add origin git@github.com:%ИМЯ_АККАУНТА%/first-project.git 
```
*Примечание* - *origin* — стандартный псевдоним, с помощью которого можно обращаться к главному удалённому репозиторию (обычно такой репозиторий один). Это значительно упрощает работу.

5. Убедиться, что репозитории связаны - **git remote -v**.

6. Отправка изменения на удалённый репозиторий - **$ git push -u origin master**

7. При взаимодействии с удалёнными репозиториями Git выводит в консоль отладочную информацию: количество объектов (файлов), которые отправляются на сервер, информацию о прогрессе сжатия и записи и так далее. 

8. На GitHub вы увидите, что в репозитории появились файлы с изменениями. 
В дальнейшем при работе с удалённым репозиторием флаг *-u* можно опустить и писать просто **git push**.

## Копирование репозитория: выполняем клонирование и «форк»

Процесс копирования удалённого репозитория на локальный компьютер называется **клонированием**. 

1. Откройте репозиторий. Нажмите на зелёную кнопку *Code*. Появится окно со ссылкой. Если вы уже настроили SSH-ключ, убедитесь что выбрана опция SSH и нажмите на кнопку с двумя квадратами справа — она скопирует ссылку в буфер обмена. 
2. Теперь откройте консоль, перейдите в папку, в которую хотите положить репозиторий, и выполните команду **git clone**. В качестве параметра команде нужно передать адрес репозитория, который вы только что скопировали на GitHub. 
```
$ git clone https://github.com/yandex-praktikum/git-clone-lesson
# укажите адрес репозитория, который нужно склонировать 
```
*Примечание* - команда **git clone** автоматически связывает локальный и удалённый репозитории. То есть если в GitHub-репозитории что-то поменяется (например, добавятся коммиты), вам не нужно будет заново клонировать его. Достаточно будет выполнить команду, которая обновит вашу копию.

**Fork** или **«форк»**, — это GitHub-операция; напрямую с Git она не связана. «Форк» создаёт копию репозитория в аккаунте GitHub. Такая копия будет полностью независима. Изменения, которые вы внесёте, не будут синхронизированы с исходным репозиторием.

1. Перейдите в репозиторий на GitHub и нажмите на кнопку *Fork* в правом верхнем углу.
2. В открывшемся окне вы можете поменять название и описание репозитория. Или поставить галку, чтобы склонировать только главную ветку вместо всех сразу. Нажмите *Create fork*.

# Хеш, лог и HEAD

**Хеш** — идентификатор коммита, полученный с помощью алгоритма SHA-1.

Информация о коммите — это набор данных: когда был сделан коммит, содержимое файлов в репозитории на момент коммита и ссылка на предыдущий, или родительский, коммит хешируется (преобразует) с помощью алгоритма SHA-1 (от англ. Secure Hash Algorithm — «безопасный алгоритм хеширования») и получает для каждого коммита свой уникальный хеш — результат хеширования.

Хэш обладает свойством: если хоть что-то в исходных данных поменяется, хеш тоже изменится.

Git хранит таблицу соответствий **хеш → информация о коммите** в служебных файлах **.git**.

## Лог

**Лог** - список коммитов с описанием, содержит: хеш коммита, автора, дату и сообщение к коммиту.

**Сокращённый лог** - список коммитов с описанием, содержит только первые несколько символов хеша и комментарии (вызывается командой **git log --oneline**).

## HEAD

Файл HEAD — один из служебных файлов папки .git. Он указывает на коммит, который сделан последним (то есть на самый новый).

При работе с Git указатель HEAD используется часто, вместо хеша последнего коммита можно просто написать слово HEAD.

# Статусы файлов (git status)

Git использует статусы файлов для отслеживания изменений в репозитории.

## Статусы **untracked/tracked, staged и modified**

- **untracked** (англ. «неотслеживаемый») - новые файлы, не отслеживаемые Git'ом.
- **staged** (англ. «подготовленный») - файлы, добавленные в staging area командой git add.
- **tracked** (англ. «отслеживаемый») - файлы, закоммиченные или добавленные в staging area.
- **modified** (англ. «изменённый») - файлы с изменениями, найденными Git'ом.

# Типичный жизненный цикл файла в Git

1. Файл только что создали. Git ещё не отслеживает его содержимое. Состояние: untracked.
2. Файл добавили в staging area с помощью git add. Состояние: staged (+ tracked).
 a. Возможно, изменили файл ещё раз. Состояния: staged, modified (+ tracked).
 Обратите внимание: staged и modified у одного файла, но у разных его версий.  
 b. Ещё раз выполнили git add. Состояние: staged (+ tracked).
3. Сделали коммит с помощью git commit. Состояние: tracked.
4. Изменили файл. Состояние: modified (+ tracked).
5. Снова добавили в staging area с помощью git add. Состояния: staged (+ tracked).
6. Сделали коммит. Состояния: tracked.
7. Повторили пункты 4−7 много-много раз.

## Какие состояния показывает команда git status

staged (Changes to be committed в выводе git status);
modified (Changes not staged for commit);
untracked (Untracked files).

# Оформление сообщений к коммитам

Сообщения к коммитам важны для определения содержимого коммита и облегчения работы с ним.

- Сообщения должны быть короткими, информативными и легко читаемыми.
- Разные команды и проекты могут использовать разные стили оформления сообщений.
- Общие рекомендации включают длину сообщения от 30 до 72 символов, использование глаголов в инфинитиве и указание Jira-ID при корпоративном стиле.
- Conventional Commits предлагает стандартизированный формат коммита с указанием [типа изменений] (https://www.conventionalcommits.org/ru/v1.0.0-beta.4/#%D1%81%D0%BF%D0%B5%D1%86%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F). 
- GitHub-стиль позволяет указывать ссылки на задачи в сообщениях коммитов.($ git commit -m "Исправить **#334**, добавить график температуры")
- Рекомендации для использования инфинитивов и повелительного наклонения в сообщениях на разных языках также существуют.























  












